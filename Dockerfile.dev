# Sets the python version
FROM python:3.9.5-slim

# Allows the logs generated by python apps to be rendered in the terminal
ENV PYTHONUNBUFFERED 1

# Sets the default shell to bash
ENV SHELL /bin/bash

# Upgrades pip
RUN pip install --upgrade pip 

# Install poetry
RUN pip install poetry

WORKDIR /app

COPY . .

RUN poetry lock --no-update

RUN poetry config virtualenvs.create false

RUN poetry install -E testing
